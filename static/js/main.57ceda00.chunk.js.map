{"version":3,"sources":["theme.js","components/AppBar.js","components/AccountControl.js","components/BeerCard.js","components/ProgressIndicator.js","components/BeerList.js","components/AddBeerForm.js","components/ScanBarcode.js","components/AddBeerButton.js","base.js","App.js","registerServiceWorker.js","index.js"],"names":["myTheme","JSON","parse","stringify","lightTheme","palette","primary1Color","teal500","primary2Color","teal700","pickerHeaderColor","getMuiTheme","BeerFridgeAppBar","props","showMenuIconButton","title","LoggedIn","iconStyle","iconButtonElement","targetOrigin","horizontal","vertical","anchorOrigin","primaryText","displayName","disabled","onClick","logout","AccountControl","user","authenticate","color","white","labelStyle","label","styles","chip","margin","display","card","height","width","maxWidth","BeerCard","handleExpandChange","expanded","setState","cardActions","onConsumed","id","state","this","beer","brewery","quantity","Card","style","onExpandChange","beer_name","subtitle","avatar","beer_label","actAsExpander","showExpandableButton","undefined","expandable","brewery_name","beer_description","beer_style","beer_abv","React","Component","progressStyle","position","top","left","BeerList","isLoading","beers","updateInventory","ProgressIndicator","Object","keys","length","map","key","actions","window","location","open","modal","buttonStyle","marginRight","AddBeerForm","accessToken","process","quantityRef","createRef","loaded","doCancel","e","preventDefault","history","push","doSave","save","parseInt","current","input","value","queryParams","queryString","search","lookupBeer","barcode","url","fetch","then","data","json","response","items","item","Error","onSubmit","floatingLabelText","defaultValue","ref","type","primary","ScanBarcode","_onDetected","bind","Quagga","init","inputStream","constraints","facingMode","locator","patchSize","halfSample","numOfWorkers","navigator","hardwareConcurrency","decoder","readers","locate","err","console","log","track","CameraAccess","getActiveTrack","applyConstraints","advanced","torch","start","onDetected","offDetected","result","code","codeResult","className","bottom","spacing","desktopGutter","right","zIndex","AddBeerButton","firebaseApp","firebase","initializeApp","apiKey","databaseURL","authDomain","base","Rebase","createClass","database","App","loading","currentUser","authHandler","authData","a","change","provider","authProvider","auth","signInWithPopup","signOut","scanBarcode","returnUrl","host","encodeURIComponent","addOrUpdateBeer","beerRecord","records","existingRecord","bid","BeerManagement","scanNew","scanBarCode","syncState","context","onAuthStateChanged","removeBinding","muiTheme","basename","iconElementRight","exact","path","render","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","document","getElementById","URL","origin","addEventListener","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.57ceda00.chunk.js","sourcesContent":["import getMuiTheme from \"material-ui/styles/getMuiTheme\";\nimport lightTheme from \"material-ui/styles/baseThemes/lightBaseTheme\";\nimport { teal500, teal700 } from \"material-ui/styles/colors\";\n\n// \"Deep clone\" of the object\nconst myTheme = JSON.parse(JSON.stringify(lightTheme));\nmyTheme.palette.primary1Color = teal500;\nmyTheme.primary2Color = teal700;\nmyTheme.pickerHeaderColor = teal500;\n\nexport default getMuiTheme(myTheme);\n","import React from \"react\";\nimport AppBar from \"material-ui/AppBar\";\n\n/**\n * A simple example of `AppBar` with an icon on the right.\n * By default, the left icon is a navigation-menu.\n */\nconst BeerFridgeAppBar = props => (\n  <AppBar showMenuIconButton={false} title=\"Beer Fridge\" {...props} />\n);\n\nexport default BeerFridgeAppBar;\n","import React from \"react\";\nimport FlatButton from \"material-ui/FlatButton\";\nimport IconMenu from \"material-ui/IconMenu\";\nimport Divider from \"material-ui/Divider\";\nimport MenuItem from \"material-ui/MenuItem\";\nimport IconButton from \"material-ui/IconButton\";\nimport MoreVertIcon from \"material-ui/svg-icons/navigation/more-vert\";\nimport { white } from \"material-ui/styles/colors\";\n\nconst LoggedIn = props => (\n  <IconMenu\n    iconStyle={props.iconStyle}\n    iconButtonElement={\n      <IconButton>\n        <MoreVertIcon />\n      </IconButton>\n    }\n    targetOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n    anchorOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n  >\n    <MenuItem primaryText={props.displayName} disabled={true} />\n    <Divider />\n    <MenuItem primaryText=\"Sign out\" onClick={props.logout} />\n  </IconMenu>\n);\n\nconst AccountControl = ({ user, authenticate, logout }) => {\n  if (user) {\n    return (\n      <LoggedIn\n        iconStyle={{ color: white }}\n        displayName={user.displayName}\n        logout={logout}\n      />\n    );\n  } else {\n    return (\n      <FlatButton\n        labelStyle={{ color: white }}\n        label=\"Login\"\n        onClick={() => authenticate(\"Google\")}\n      />\n    );\n  }\n};\n\nexport default AccountControl;\n","import React from \"react\";\nimport {\n  Card,\n  CardActions,\n  CardHeader,\n  CardText,\n  CardTitle\n} from \"material-ui/Card\";\nimport Chip from \"material-ui/Chip\";\nimport FlatButton from \"material-ui/FlatButton\";\n\nconst styles = {\n  chip: {\n    margin: \"0 0.5rem 0 0\",\n    display: \"inline-block\"\n  },\n  card: {\n    height: \"auto\",\n    width: \"90%\",\n    maxWidth: \"480px\",\n    margin: \"1rem auto\",\n    display: \"block\"\n  }\n};\n\nexport { styles };\n\nexport default class BeerCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: this.props.expanded || false\n    };\n  }\n\n  handleExpandChange = expanded => {\n    this.setState({ expanded: expanded });\n  };\n\n  cardActions = () => {\n    if (!this.props.user) return null;\n    return (\n      <FlatButton\n        onClick={() => this.props.onConsumed(this.props.id, -1)}\n        label=\"🍻 Reduce Inventory\"\n      />\n    );\n  };\n\n  render() {\n    const { beer, brewery, quantity } = this.props;\n    return (\n      <Card\n        style={styles.card}\n        expanded={this.state.expanded}\n        onExpandChange={this.handleExpandChange}\n      >\n        <CardHeader\n          title={beer.beer_name}\n          subtitle={quantity ? `${quantity} in stock` : null}\n          avatar={beer.beer_label}\n          actAsExpander={true}\n          showExpandableButton={\n            this.props.expandable === undefined ? true : this.props.expandable\n          }\n        />\n        <CardTitle\n          expandable={true}\n          title={null}\n          subtitle={brewery.brewery_name}\n        />\n        <CardText expandable={true}>{beer.beer_description}</CardText>\n        <CardActions expandable={true}>\n          <Chip style={styles.chip}>{beer.beer_style}</Chip>\n          <Chip style={styles.chip}>{beer.beer_abv} %</Chip>\n        </CardActions>\n        <CardActions>{this.cardActions()}</CardActions>\n      </Card>\n    );\n  }\n}\n","import CircularProgress from \"material-ui/CircularProgress\";\nimport React from \"react\";\n\nconst progressStyle = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\"\n};\n\nexport default () => <CircularProgress style={progressStyle} />;\n","import React from \"react\";\nimport BeerCard from \"./BeerCard\";\nimport ProgressIndicator from \"./ProgressIndicator\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\n\nconst BeerList = ({ isLoading, user, beers, updateInventory }) => {\n  if (isLoading) return <ProgressIndicator />;\n  if (!beers || !Object.keys(beers).length)\n    return (\n      <Dialog\n        title=\"No beers 🚱\"\n        actions={\n          <FlatButton onClick={() => (window.location = \"/scan\")} color=\"primary\">\n            Add a beer\n          </FlatButton>\n        }\n        open={true}\n        modal={true}\n      >\n        No beers are in the fridge right now, check back later.\n      </Dialog>\n    );\n  return Object.keys(beers).map((key) => (\n    <BeerCard id={key} key={key} user={user} onConsumed={() => updateInventory(key, -1)} {...beers[key]} />\n  ));\n};\n\nexport default BeerList;\n","import React from \"react\";\nimport queryString from \"query-string\";\nimport BeerCard, { styles } from \"./BeerCard\";\nimport ProgressIndicator from \"./ProgressIndicator\";\nimport TextField from \"material-ui/TextField\";\nimport RaisedButton from \"material-ui/RaisedButton\";\n\nconst buttonStyle = {\n  marginRight: \"0.5rem\"\n};\n\nclass AddBeerForm extends React.Component {\n  accessToken = process.env.REACT_APP_UNTAPPD_ACCESS_TOKEN;\n  quantityRef = React.createRef();\n  state = {\n    loaded: false,\n    beer: null,\n    brewery: null,\n    quantity: 1\n  };\n  componentDidMount() {\n    // 1. Fetch the beer info from Untappd\n    // 2. Set the details in the state of this component\n    // 3. Default the quantity to 1\n    //this.lookupBeerDetails(this.props.match.)\n    this.props.location.queryParams = queryString.parse(\n      this.props.location.search\n    );\n    this.lookupBeer(this.props.location.queryParams.barcode);\n  }\n  lookupBeer(barcode) {\n    const url = `https://api.untappd.com/v4/beer/checkbarcodemultiple?upc=${barcode}&access_token=${\n      this.accessToken\n    }`;\n    fetch(url)\n      .then(data => data.json())\n      .then(json => {\n        if (!json.response || !json.response.items) return;\n        return json.response.items[0];\n      })\n      .then(item => {\n        if (!item) throw new Error(`${barcode} was not found on Untappd!`);\n        this.setState({ loaded: true, beer: item.beer, brewery: item.brewery });\n      });\n  }\n  doCancel = e => {\n    if (e) e.preventDefault();\n    this.props.history.push(\"/\");\n  };\n  doSave = e => {\n    e.preventDefault();\n    this.props.save({\n      beer: this.state.beer,\n      brewery: this.state.brewery,\n      quantity: parseInt(this.quantityRef.current.input.value, 10)\n    });\n    this.doCancel();\n  };\n  render() {\n    if (!this.state.loaded) return <ProgressIndicator />;\n    return (\n      <form onSubmit={e => this.doSave(e)}>\n        <BeerCard\n          beer={this.state.beer}\n          brewery={this.state.brewery}\n          expanded={true}\n          expandable={false}\n        />\n        <div style={styles.card}>\n          <TextField\n            floatingLabelText=\"Quantity\"\n            defaultValue={this.state.quantity}\n            ref={this.quantityRef}\n            type=\"number\"\n          />\n          <br />\n          <RaisedButton\n            style={buttonStyle}\n            primary={true}\n            type=\"submit\"\n            label=\"Add this Beer\"\n          />\n          <RaisedButton\n            style={buttonStyle}\n            onClick={e => this.doCancel(e)}\n            label=\"Cancel\"\n          />\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default AddBeerForm;\n","import Quagga from \"quagga\";\nimport React from \"react\";\n\nexport default class ScanBarcode extends React.Component {\n  constructor(props) {\n    super(props);\n    this._onDetected = this._onDetected.bind(this);\n  }\n\n  componentDidMount() {\n    Quagga.init(\n      {\n        inputStream: {\n          type: \"LiveStream\",\n          constraints: {\n            width: 1280,\n            height: 720,\n            facingMode: \"environment\", // or user\n          },\n        },\n        locator: {\n          patchSize: \"medium\",\n          halfSample: true,\n        },\n        numOfWorkers: navigator.hardwareConcurrency || 2,\n        decoder: {\n          readers: [\"ean_reader\"],\n        },\n        locate: true,\n      },\n      function (err) {\n        if (err) {\n          return console.log(err);\n        }\n        var track = Quagga.CameraAccess.getActiveTrack();\n        if (typeof track.applyConstraints === \"function\") {\n          track.applyConstraints({ advanced: [{ torch: true }] });\n        }\n\n        Quagga.start();\n      }\n    );\n\n    Quagga.onDetected(this._onDetected);\n  }\n\n  componentWillUnmount() {\n    Quagga.offDetected(this._onDetected);\n  }\n\n  _onDetected(result) {\n    const { code } = result.codeResult;\n    Quagga.offDetected(this._onDetected);\n    window.location = `/checkin?barcode=${code}`;\n  }\n\n  render() {\n    return <div id=\"interactive\" className=\"viewport\" />;\n  }\n}\n","import React from \"react\";\nimport FloatingActionButton from \"material-ui/FloatingActionButton\";\nimport ContentAdd from \"material-ui/svg-icons/content/add\";\nimport spacing from \"material-ui/styles/spacing\";\n\nconst style = {\n  position: \"fixed\",\n  bottom: spacing.desktopGutter,\n  right: spacing.desktopGutter,\n  zIndex: 100\n};\n\nconst AddBeerButton = props => {\n  if (!props.user) return null;\n  return (\n    <FloatingActionButton {...props} style={style}>\n      <ContentAdd />\n    </FloatingActionButton>\n  );\n};\n\nexport default AddBeerButton;\n","import Rebase from \"re-base\";\nimport firebase from \"firebase\";\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN\n});\n\nconst base = Rebase.createClass(firebaseApp.database());\n\n// This is a named export\nexport { firebaseApp };\n\n// this is a default export\nexport default base;\n","import React, { Component } from \"react\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport firebase from \"firebase\";\nimport myTheme from \"./theme.js\";\nimport AppBar from \"./components/AppBar\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport AccountControl from \"./components/AccountControl\";\nimport BeerList from \"./components/BeerList\";\nimport AddBeerForm from \"./components/AddBeerForm\";\nimport ScanBarcode from \"./components/ScanBarcode\";\nimport AddBeerButton from \"./components/AddBeerButton\";\nimport base, { firebaseApp } from \"./base\";\n\nclass App extends Component {\n  state = {\n    beers: {},\n    loading: true,\n    currentUser: null\n  };\n  componentDidMount() {\n    this.ref = base.syncState(`/beers`, {\n      context: this,\n      state: \"beers\",\n      then: () => this.setState({ loading: false })\n    });\n    firebaseApp.auth().onAuthStateChanged(user => this.authHandler({ user }));\n  }\n  componentWillUnmount() {\n    base.removeBinding(this.ref);\n  }\n\n  authHandler = async authData => {\n    this.setState({ currentUser: authData.user });\n  };\n\n  updateInventory = (key, change) => {\n    const beers = { ...this.state.beers };\n    const beer = beers[key];\n    if (!beer) return;\n    beer.quantity = (beer.quantity || 0) + change;\n    if (beer.quantity < 1) beers[key] = null;\n    this.setState({ beers });\n  };\n\n  authenticate = provider => {\n    const authProvider = new firebase.auth[`${provider}AuthProvider`]();\n    firebaseApp\n      .auth()\n      .signInWithPopup(authProvider)\n      .then(this.authHandler);\n  };\n\n  logout = async () => {\n    await firebase.auth().signOut();\n    this.setState({ currentUser: null });\n  };\n\n  scanBarcode = () => {\n    const returnUrl = `http://${window.location.host}/checkin?barcode={CODE}`;\n    const url = `zxing://scan/?ret=${encodeURIComponent(\n      returnUrl\n    )}&SCAN_FORMATS=EAN_13,UPC_A`;\n    window.location = url;\n  };\n\n  addOrUpdateBeer = beerRecord => {\n    const records = { ...this.state.beers };\n    const existingRecord = records[beerRecord.beer.bid];\n    if (existingRecord) {\n      existingRecord.quantity += beerRecord.quantity;\n    }\n    records[beerRecord.beer.bid] = existingRecord || beerRecord;\n    this.setState({ beers: records });\n  };\n\n  BeerManagement = () => {\n    return (\n      <div>\n        <AddBeerButton\n          user={this.state.currentUser}\n          onClick={() => window.location = \"/scan\"}\n        />\n        <BeerList\n          updateInventory={this.updateInventory}\n          user={this.state.currentUser}\n          scanNew={this.scanBarCode}\n          isLoading={this.state.loading}\n          beers={this.state.beers}\n        />\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <MuiThemeProvider muiTheme={myTheme}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <div>\n            <AppBar\n              iconElementRight={\n                <AccountControl\n                  authenticate={this.authenticate}\n                  logout={this.logout}\n                  user={this.state.currentUser}\n                />\n              }\n            />\n\n            <Route exact path=\"/\" render={this.BeerManagement} />\n            <Route path=\"/scan\" render={props => (<ScanBarcode {...props} />)} />\n            <Route\n              path=\"/checkin\"\n              render={props => (\n                <AddBeerForm {...props} save={this.addOrUpdateBeer} />\n              )}\n            />\n          </div>\n        </BrowserRouter>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}